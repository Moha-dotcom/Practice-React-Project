{"ast":null,"code":"var _jsxFileName = \"/Users/mohamedabdullahi/Desktop/Food-Order-App/src/Store/CartProvider.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useReducer } from 'react';\nimport CartContext from './CartContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst defaultStart = {\n  item: [],\n  totalAmount: 0\n};\nconst cartReducer = (state, action) => {\n  if (action.type === \"ADD_TO_CART\") {\n    // const updateItem = state.item.concat(action.item);\n    const existingCartItemIndex = state.item.findIndex(item => item.id === action.item.id);\n    const existingCartItem = state.item[existingCartItemIndex];\n    const newTotalamout = state.totalAmount + action.item.price * action.item.amount;\n    let updatedItem;\n    let updatedItems;\n    if (existingCartItem) {\n      updatedItem = {\n        ...existingCartItem,\n        amount: existingCartItem.amount + action.item.amount\n      };\n      updatedItems = [...state.item];\n      updatedItems[existingCartItemIndex] = updatedItem;\n    } else {\n      updatedItem = {\n        ...action.item\n      };\n      updatedItems = state.item.concat(action.item);\n    }\n    return {\n      items: updatedItems,\n      totalAmount: newTotalamout\n    };\n  }\n  if (action.type === \"REMOVEITEM\") {}\n  return defaultStart;\n};\nfunction CartProvider(props) {\n  _s();\n  const [CartState, dispatchCartAction] = useReducer(cartReducer, defaultStart);\n  const addCartHandler = item => {\n    dispatchCartAction({\n      type: \"ADD_TO_CART\",\n      item: item\n    });\n  };\n  const removeCartHandler = id => {\n    dispatchCartAction({\n      type: \"REMOVEITEM\",\n      id: id\n    });\n  };\n  const cartContext = {\n    items: CartState.item,\n    totalAmount: CartState.totalAmount,\n    addItem: addCartHandler,\n    removeItem: removeCartHandler\n  };\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: cartContext,\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 7\n  }, this);\n}\n_s(CartProvider, \"wVF1+PWVorkwkbcnxcoZsuAxEoA=\");\n_c = CartProvider;\nexport default CartProvider;\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["React","useReducer","CartContext","defaultStart","item","totalAmount","cartReducer","state","action","type","existingCartItemIndex","findIndex","id","existingCartItem","newTotalamout","price","amount","updatedItem","updatedItems","concat","items","CartProvider","props","CartState","dispatchCartAction","addCartHandler","removeCartHandler","cartContext","addItem","removeItem","children"],"sources":["/Users/mohamedabdullahi/Desktop/Food-Order-App/src/Store/CartProvider.js"],"sourcesContent":["import React from 'react'\nimport { useReducer } from 'react'\nimport CartContext from './CartContext'\n\nconst defaultStart = {\n    item : [],\n    totalAmount : 0\n}\nconst cartReducer = (state, action) => {\n  if(action.type === \"ADD_TO_CART\"){\n      // const updateItem = state.item.concat(action.item);\n      const existingCartItemIndex = state.item.findIndex((item) => item.id === action.item.id)\n      const existingCartItem = state.item[existingCartItemIndex]\n      const newTotalamout = state.totalAmount + action.item.price * action.item.amount;\n      let updatedItem ;\n      let updatedItems ;\n\n      if(existingCartItem){\n        updatedItem = {...existingCartItem, amount : existingCartItem.amount + action.item.amount};\n        updatedItems = [...state.item];\n        updatedItems[existingCartItemIndex] = updatedItem;\n      }else{\n        updatedItem  = {...action.item}\n         updatedItems = state.item.concat(action.item);\n      }\n\n\n      return {\n        items : updatedItems,\n        totalAmount : newTotalamout\n      };\n  }\n  if(action.type === \"REMOVEITEM\"){\n    \n  }\n\n  return defaultStart;\n\n}\n\n\n\nfunction CartProvider (props) {\n  const [CartState, dispatchCartAction ] = useReducer(cartReducer, defaultStart);\n\n\n  const addCartHandler = (item) => {\n    dispatchCartAction({type : \"ADD_TO_CART\", item : item})\n\n  }\n\n  const removeCartHandler = (id) => {\n    dispatchCartAction({type : \"REMOVEITEM\", id : id})\n    \n  }\n\n\n  const cartContext = {\n    items : CartState.item,\n    totalAmount : CartState.totalAmount,\n    addItem : addCartHandler,\n    removeItem : removeCartHandler\n\n  }\n  return (\n      <CartContext.Provider value={cartContext}>\n        {props.children}\n      </CartContext.Provider>\n  )\n}\n\nexport default CartProvider;"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,UAAU,QAAQ,OAAO;AAClC,OAAOC,WAAW,MAAM,eAAe;AAAA;AAEvC,MAAMC,YAAY,GAAG;EACjBC,IAAI,EAAG,EAAE;EACTC,WAAW,EAAG;AAClB,CAAC;AACD,MAAMC,WAAW,GAAG,CAACC,KAAK,EAAEC,MAAM,KAAK;EACrC,IAAGA,MAAM,CAACC,IAAI,KAAK,aAAa,EAAC;IAC7B;IACA,MAAMC,qBAAqB,GAAGH,KAAK,CAACH,IAAI,CAACO,SAAS,CAAEP,IAAI,IAAKA,IAAI,CAACQ,EAAE,KAAKJ,MAAM,CAACJ,IAAI,CAACQ,EAAE,CAAC;IACxF,MAAMC,gBAAgB,GAAGN,KAAK,CAACH,IAAI,CAACM,qBAAqB,CAAC;IAC1D,MAAMI,aAAa,GAAGP,KAAK,CAACF,WAAW,GAAGG,MAAM,CAACJ,IAAI,CAACW,KAAK,GAAGP,MAAM,CAACJ,IAAI,CAACY,MAAM;IAChF,IAAIC,WAAW;IACf,IAAIC,YAAY;IAEhB,IAAGL,gBAAgB,EAAC;MAClBI,WAAW,GAAG;QAAC,GAAGJ,gBAAgB;QAAEG,MAAM,EAAGH,gBAAgB,CAACG,MAAM,GAAGR,MAAM,CAACJ,IAAI,CAACY;MAAM,CAAC;MAC1FE,YAAY,GAAG,CAAC,GAAGX,KAAK,CAACH,IAAI,CAAC;MAC9Bc,YAAY,CAACR,qBAAqB,CAAC,GAAGO,WAAW;IACnD,CAAC,MAAI;MACHA,WAAW,GAAI;QAAC,GAAGT,MAAM,CAACJ;MAAI,CAAC;MAC9Bc,YAAY,GAAGX,KAAK,CAACH,IAAI,CAACe,MAAM,CAACX,MAAM,CAACJ,IAAI,CAAC;IAChD;IAGA,OAAO;MACLgB,KAAK,EAAGF,YAAY;MACpBb,WAAW,EAAGS;IAChB,CAAC;EACL;EACA,IAAGN,MAAM,CAACC,IAAI,KAAK,YAAY,EAAC,CAEhC;EAEA,OAAON,YAAY;AAErB,CAAC;AAID,SAASkB,YAAY,CAAEC,KAAK,EAAE;EAAA;EAC5B,MAAM,CAACC,SAAS,EAAEC,kBAAkB,CAAE,GAAGvB,UAAU,CAACK,WAAW,EAAEH,YAAY,CAAC;EAG9E,MAAMsB,cAAc,GAAIrB,IAAI,IAAK;IAC/BoB,kBAAkB,CAAC;MAACf,IAAI,EAAG,aAAa;MAAEL,IAAI,EAAGA;IAAI,CAAC,CAAC;EAEzD,CAAC;EAED,MAAMsB,iBAAiB,GAAId,EAAE,IAAK;IAChCY,kBAAkB,CAAC;MAACf,IAAI,EAAG,YAAY;MAAEG,EAAE,EAAGA;IAAE,CAAC,CAAC;EAEpD,CAAC;EAGD,MAAMe,WAAW,GAAG;IAClBP,KAAK,EAAGG,SAAS,CAACnB,IAAI;IACtBC,WAAW,EAAGkB,SAAS,CAAClB,WAAW;IACnCuB,OAAO,EAAGH,cAAc;IACxBI,UAAU,EAAGH;EAEf,CAAC;EACD,oBACI,QAAC,WAAW,CAAC,QAAQ;IAAC,KAAK,EAAEC,WAAY;IAAA,UACtCL,KAAK,CAACQ;EAAQ;IAAA;IAAA;IAAA;EAAA,QACM;AAE7B;AAAC,GA3BQT,YAAY;AAAA,KAAZA,YAAY;AA6BrB,eAAeA,YAAY;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}